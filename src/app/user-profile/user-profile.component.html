<app-nav-bar></app-nav-bar>
<div class="profile-div">
    <div class="favorited-div">
        <h2 class = "favorite-title">Favorited Movies</h2>
        <mat-card *ngFor="let movie of favorited;">
            <mat-card-header>
            <mat-card-title>{{movie.Title}}</mat-card-title>
            <mat-card-subtitle>Directed by: {{movie.Director.Name}}</mat-card-subtitle>
        </mat-card-header>
        <img src={{movie.ImagePath}} />
        <mat-card-actions>
            <mat-icon (click)="removeFavorite(movie._id)">favorite_filled</mat-icon>
        </mat-card-actions>
        </mat-card>
    </div>
    <div>
        <div class="details-div">
            <h2>Current Details</h2>
            <p>Username: {{user.Username}}</p>
            <p>Email: {{user.Email}}</p>
            <p>Birthday: {{user?.Birthday}}</p>
        </div>
        <mat-card>
            <mat-card-header>
                <mat-card-title style="font-size: 26px;">Edit Your Profile</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <form>
                    <mat-form-field style="font-family: 'Work Sans', sans-serif;">
                        <input matInput [(ngModel)]="userData.Username" type="text" placeholder="Username"
                            name="Username">
                    </mat-form-field>
                    <mat-form-field>
                        <input matInput [(ngModel)]="userData.Password" type="password" placeholder="Password"
                            name="Password">
                    </mat-form-field>
                    <mat-form-field>
                        <input matInput [(ngModel)]="userData.Email" type="Email" placeholder="Email" name="Email">
                    </mat-form-field>
                    <mat-form-field>
                        <input matInput [(ngModel)]="userData.Birthday" type="any" placeholder="Birthday"
                            name="Birthday">
                    </mat-form-field>
                </form>
            </mat-card-content>
            <mat-card-actions style="text-align: center; margin-bottom: 5px;">
                <button mat-raised-button (click)="editUserInfo()" color="primary">
                    Save Changes
                </button>
                <button
                mat-raised-button
                (click)="openUserDeleteDialog()"
                color="primary"
            >
                Delete profile
            </button>
            </mat-card-actions>
        </mat-card>
    </div>
</div>